{"mappings":"AAAA,MAAM,OAAO,SAAS,cAAc,CAAC;AACrC,MAAM,WAAW,SAAS,cAAc,CAAC;AACzC,MAAM,UAAU,IAAI,IAAI;AAExB,MAAM,UAAU,OAAM,MAAO;IAC3B,IAAI,SAAS,aAAa,OAAO,CAAC,gBAAgB;IAClD,QAAQ,GAAG,CAAC,IAAI,YAAY,CAAC,GAAG,CAAC,UAAU;IAC3C,IAAI;QACF,MAAM,WAAW,MAAM,MAAM,IAAI,QAAQ;QACzC,MAAM,aAAa,MAAM,SAAS,IAAI;QACtC,QAAQ,GAAG,CAAC;QACZ,IAAI,WAAW;QACf,IAAG,SAAS,MAAM,KAAK,GAAG;YACxB,qBAAqB,SAAS,CAAC;YAC/B,OAAO,MAAM;QACf,CAAC;QACD,IAAI,SAAS,SAAS,GAAG,CAAC,CAAA,UAAW;YACnC,MAAM,OAAO,CAAC;kBACF,EAAE,QAAQ,MAAM,CAAC,EAAE,CAAC;;UAE5B,EAAE,QAAQ,KAAK,CAAC;mBACP,EAAE,QAAQ,KAAK,CAAC;;gBAEnB,CAAC;YACX,OAAO;QACT;QACA,IAAI,YAAY,SAAS,aAAa,CAAC;QACvC,UAAU,SAAS,IAAI,OAAO,IAAI,CAAC;QACnC,aAAa,OAAO,CAAC,cAAc,UAAQ;IAC7C,EAAE,OAAO,OAAO;QACd,OAAO,QAAQ,GAAG,CAAC;IACrB;AACF;AAEA,MAAM,WAAW,UAAY;IAC3B,MAAM,QAAQ;AAChB;AAEA,SAAS,gBAAgB,CAAC,oBAAoB,IAAM;IAClD,aAAa,OAAO,CAAC,cAAc;IACnC;AACF;AAEA,MAAM,uBAAuB,IAAI,qBAAqB,CAAA,UAAW;IAC/D,MAAM,YAAY,SAAS,aAAa,CAAC,UAAU,QAAQ,CAAC,MAAM;IAClE,IAAI,OAAO,CAAC,EAAE,CAAC,cAAc,IAAI,aAAa,IAAI;QAChD,QAAQ,GAAG,CAAC;QACZ;IACF,CAAC;AACH,GAAG;IACD,kCAAkC;IAClC,WAAW;AACb;AACA,qBAAqB,OAAO,CAAC","sources":["src/index.js"],"sourcesContent":["const $app = document.getElementById('app');\nconst $observe = document.getElementById('observe');\nconst API_URL = new URL('https://api.escuelajs.co/api/v1/products?limit=10');\n\nconst getData = async api => {\n  let offset = localStorage.getItem('pagination') - 0;\n  console.log(api.searchParams.set('offset', offset))\n  try {\n    const response = await fetch(api.toString());\n    const response_2 = await response.json();\n    console.log(response_2);\n    let products = response_2;\n    if(products.length === 0) {\n      intersectionObserver.unobserve($observe);\n      return alert('No hay mas productos');\n    }\n    let output = products.map(product => {\n      const temp = `<article class=\"Card\">\n        <img src=\"${product.images[0]}\" width={640} height={480} />\n        <h2>\n          ${product.title}\n          <small>$ ${product.price}</small>\n        </h2>\n      </article>`;\n      return temp;\n    });\n    let container = document.querySelector('section');\n    container.innerHTML += output.join('');\n    localStorage.setItem('pagination', offset+=10);\n  } catch (error) {\n    return console.log(error);\n  }\n}\n\nconst loadData = async () => {\n  await getData(API_URL);\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  localStorage.setItem('pagination', 5);\n  loadData()\n})\n\nconst intersectionObserver = new IntersectionObserver(entries => {\n  const docLength = document.querySelector('.Items').children.length\n  if (entries[0].isIntersecting && docLength >= 10) {\n    console.log('Cargar mas productos');\n    loadData();\n  }\n}, {\n  // rootMargin: '0px 0px 100% 0px',\n  threshold: 1\n});\nintersectionObserver.observe($observe);\n"],"names":[],"version":3,"file":"index.579125c3.js.map","sourceRoot":"/__parcel_source_root/"}